# Assignment #5

### 一、问题描述

参照七段数码管示例程序，实现对“0~9、A-E”十六进制符号的绘制。

1．用户可通过命令行交互输入任意多个字符，输入字符A~E大小写均可；如2F9ce8、D35a ...

2．输入其它字符需给出错误提示，如6M35、96G…

3．扩展功能：可通过命令行交互设置数码管颜色、长度宽度等参数。输入其它字符可给出错误提示，并要求用户重新输入。

 

### 二、算法原理

**draw_horizontal_line**函数：

该函数用于绘制水平线段。

接受两个参数，draw用于表示是否要绘制线段，horizontal_length表示线段的长度。

如果draw为True，则函数调用Turtle库的pendown函数将画笔放下，然后向前移动horizontal_length距离，最后右转90度。

如果draw为False，则函数调用penup将画笔抬起，然后向前移动horizontal_length距离，最后右转90度。

**draw_vertical_line**函数：

该函数用于绘制垂直线段。

与draw_horizontal_line函数类似。接受两个参数，draw用于表示是否要绘制线段，vertical_length表示线段的长度。

**draw_character**函数：

该函数根据输入的字符，绘制对应的数码管部分。

接受三个参数，character表示要绘制的字符，horizontal_length表示水平线段的长度，vertical_length表示垂直线段的长度。

通过条件表达式（序列类型通用操作符in），检查 character 是否在提供的字符集中。如果 character 包含在这个字符集中，表达式的结果将为 True，否则为 False。以此来决定是否要绘制字符相应的线段。根据七点管字符的特性，调用draw_horizontal_line和draw_vertical_line来绘制七点管对应的线段。

最后，函数将Turtle画笔左转90度并抬起画笔，以准备绘制下一个字符。

**set_pen_attributes**函数：

该函数用于获取用户输入的字符、画笔颜色、数码管长度和宽度。

函数通过input获取用户输入数据。并通过无限循环try-except验证用户的输入，确保输入的参数是有效的。

1. 获取要显示的字符，确保字符全部属于预定义的valid_chars = "0123456789abcdef"中有效字符集。若不属于，会提示错误信息，并要求用户重新输入。
2. 获取画笔颜色，确保用户输入的颜色是预定义的有效颜色['red', 'blue', 'green', 'black', 'purple', 'orange']之一。若输入不合法，会提示错误信息，并要求用户重新输入。
3. 获取数码管长度，使用确保用户输入的值是正整数。

通过horizontal_length = int(input("请输入数码管长度（整数）：")要求用户输入一个整数作为数码管的长度，并将其存储在 horizontal_length 变量中。由于用户的输入可能会引发异常，所以使用 try 块来捕获潜在的异常。

通过if horizontal_length > 0语句，检查用户输入的 horizontal_length 是否大于零。如果是，表示用户提供了有效的输入，程序会执行下一步操作。

当用户提供有效的输入，也就是 horizontal_length 大于零时，break 语句会中断循环，使程序跳出这个无限循环。

如果用户输入的值小于等于零（即无效输入），则程序会执行 else 块内的代码。即print("数码管长度必须是正整数。")这行代码会向用户显示一条错误消息，告诉用户数码管的长度必须是正整数。

except ValueError:：这是一个异常处理块，捕获由于用户输入无效数据（非整数）而引发的 ValueError 异常。如果用户输入的不是整数，程序会执行 except 块内的代码，即打印错误消息。

3. 获取数码管宽度，使用确保用户输入的值是正整数。

代码与获取数码管长度代码类似。

**draw_string**函数：

该函数用于按顺序绘制整个输入字符串。

首先将输入字符串转换为小写字符，以便处理大小写字母。

然后通过循环，将字符串中的每个字符，调用draw_character函数来绘制每个字符的数码管表示。

**main**函数：

程序的主要入口。

设置了Turtle图形的初始参数，包括画笔的速度、画布的大小，画笔的大小等。

通过调用set_pen_attributes函数获取用户输入的参数，包括字符、画笔颜色、数码管长度和宽度。

最后，调用draw_string函数来绘制输入的字符，完成数码管的绘制。

### 三、代码

交完作业就上传。。。。。。